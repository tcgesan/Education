const questions = [


    //1
    {
        text: "রবীন্দ্রনাথ ঠাকুর কত সালে সাহিত্যে নোবেল পুরষ্কার পান?",
        options: ["১৯০৩ খ্রি", "১৯১৩ খ্রি", "১৯২৩ খ্রি", "১৯৩৩ খ্রি"],
        correct: 1,
    },

// 2

{
text: "'কমলবন' শব্দটিকে কবি 'ফেব্রুয়ারি ১৯৬৯' কবিতায় কী হিসেবে ব্যবহার করেছেন ?",
options: ["ভাবার্থে", "মূল অর্থে", "প্রতীকী অর্থে", "ব্যঞ্জনা অর্থে"],
correct: 2
},

//3
{
text: "'খাজাঞ্চি' বলতে কোন ব্যক্তিকে বোঝায় ?",
options: ["সেনাপতিকে", "নবাবকে", "কোষাধ্যক্ষকে", "গুপ্তচরকে"],
correct: 2
},



//4

{
text: "ব্রিটিশ সিংহ ভয়ে লেজ গুটিয়ে নিলেন, এ এ বড় লজ্জার কথা। উর্মিচাঁদের এই সংলাপের মধ্যদিয়ে আমরা অনুধাবন করতে পারি-     i.সিংহের মতো শক্তি ও সাহস ইংরেজদের আছে    ii. ইংরেজরা ভীরু   iii. ইংরেজরা কাপুরুষ .   নিচের কোনটি সঠিক ?",
options: ["i ও ii", "ii ও iii", "i ও iii", "i  ,  ii ও iii"],
correct: 1
},

//5
{
text: "প্রথম যখন হোসেন মিয়া কেতুপুরে এসেছিল পরণে একটা ছেঁড়া লুঙ্গি, মাথায় একঝাঁক রুক্ষ চুল ঘষা দিলে গায়ে খড়ি উঠত। এখন সে অনেক সম্পদ ও প্রতিপত্তির মালিক।  উদ্দীপকে হোসেন মিয়া ও 'লালসালু' উপন্যাসের মজিদ উভয়ের ক্ষেত্রে কোনটি প্রযোজ্য নয় ?",
options: ["লোভী", "আগন্তুক", "সরলতা", "ধার্মিক"],
correct: 2
},

//6
{
text: "প্রথম যখন হোসেন মিয়া কেতুপুরে এসেছিল পরণে একটা ছেঁড়া লুঙ্গি, মাথায় একঝাঁক রুক্ষ চুল ঘষা দিলে গায়ে খড়ি উঠত। এখন সে অনেক সম্পদ ও প্রতিপত্তির মালিক।   ' লালসালু ' উপন্যাস এ মজিদের মতো হোসেন মিয়াও -- i.  ভাগ্যদ্বেসী  ii. সচ্ছল  iii. সফল",
options: ["i ও  ii", "i ও  iii", "ii ও  iii", "i , ii ও  iii"],
correct: 2
},


//7
{
text: "আক্কাস মহব্বতনগর গ্রামে কী প্রতিষ্ঠা করতে চায় ?",
options: ["স্কুল", "কলেজ", "হাসপাতাল", "এনজিও"],
correct: 0
},

//8
{
text: "'কুহেলি' শব্দের অর্থ কী ?",
options: ["কুয়াশা", "চাদর", "উত্তরীয়", "সন্ন্যাস"],
correct: 0
},

//9
{
text: "পাহাড়ি ঢলের মতো নেমে এসে সমস্ত ভাসায়, অভাগা মানুষ যেন জেগে ওঠে আবার এ আশায় যে, আবার নূরলদীন একদিন আসিবে বাংলায়, আবার নূরলদীন একদিন কাল পূর্ণিমায় দিবে ডাক,  ' জাগো, বাহে, কোনঠে সবায়?'  ' আবার নূরলদীন একদিন আসিবে বাংলায় '  - পঙ্ক্তিটিতে 'আমি কিংবদন্তির কথা বলছি'  কবিতার সাদৃশ্যপূর্ণ চেতনা হলো--  i. নবজাগরণ  ii. সংগ্রামশীলতা   iii.ইতিহাসমনস্কতা.   নিচের কোনটি সঠিক?",
options: ["i ও ii", "i ও  iii", "ii ও  iii", "i ,  ii ও  iii"],
correct: 0
},

//10
{
text: "পাহাড়ি ঢলের মতো নেমে এসে সমস্ত ভাসায়, অভাগা মানুষ যেন জেগে ওঠে আবার এ আশায় যে, আবার নূরলদীন একদিন আসিবে বাংলায়, আবার নূরলদীন একদিন কাল পূর্ণিমায় দিবে ডাক, ' জাগো, বাহে, কোনঠে সবায় ? '  উদ্দীপকে প্রতিফলিত চেতনা ব্যক্ত হয়েছে নিচের কোন চরণে ?",
options: ["আমি আমার পূর্বপুরুষের কথা বলছি", "সে আজন্ম ক্রীতদাস থেকে যাবে", "কর্ষিত জমির প্রতিটি শস্যদানা কবিতা", "রক্তজবার মতো প্রতিরোধের উচ্চারণ কবিতা"],
correct: 3
},

//11
{
text: "এ দেশের বুকে কেন আঠারোকে নেমে আসতে বলা হয়েছে ?",
options: ["এ বয়স জটিলতা বোঝেনা", "এ বয়স দুর্নীতি করতে জানেনা", "এ বয়স শিক্ষার বয়স", "এ বয়স সাহসী দুর্বার গতিসম্পন্ন ও কল্যাণব্রতী"],
correct: 3
},

//12
{
    text: "আঠারো বছর বয়সের ধর্ম মহান মন্ত্রে উজ্জীবিত হওয়া। - এ মহান মন্ত্রের বাহন কোনটি ?",
    options: ["স্বার্থত্যাগ","আত্মত্যাগ","অর্থত্যাগ","বিলাসিতা ত্যাগ"],
    correct: 1 
},

//13
{
    text: "ঘাতকের অশুভ আস্তানায় মানুষের অবস্থা  ছিল-    i. কেউ মরা    ii. কেউ আধমরা    iii. কেউ জেদি বিপ্লবে ফেটে পড়া  নিচের কোনটি সঠিক ?",
    options: ["i ও ii","i ও iii","ii ও iii","i, ii ও iii"],
    correct: 3 
},


//14
{
    text: "মির জাফরের প্রকৃত নাম কী ?",
    options: ["মীর জাফর খান","জাফর আলি খান","মির জাফর আলী খান","মির্জা জাফর খান"],
    correct: 2 
},


//15
{
    text: "ওপরের হাত সবসময় নিচের হাত থেকে শ্রেষ্ঠ - এ কথাটি কে বলেছে ?",
    options: ["একজন দার্শনিক","গৌতম বুদ্ধ","ইসলামের নবি","একজন সমাজসেবক"],
    correct: 2 
},


//16
{
    text: "' শহরের বুকে জলপাই রঙের ট্যাঙ্ক এলো দানবের মতো। চিৎকার করতে করতে '। উদ্দীপকের সঙ্গে 'রেইনকোট' গল্পের সাদৃশ্যপূর্ণ বিষয়টি    i. গ্রেনেড ছোঁড়া    ii. মুক্তিযুদ্ধের সময়    iii. সালাম ও বরকত শহিদ হওয়া .  নিচের কোনটি সঠিক ?",
    options: ["i ও ii","i ও iii","ii ও iii","i, ii ও iii"],
    correct: 0 
},


];










const quizContainer = document.getElementById("quiz");
const resultContainer = document.getElementById("result");
const scoreContainer = document.createElement("div");
let timerElement = document.getElementById("timer");
const startButton = document.getElementById("startTimer");
const showResultButton = document.getElementById("showResult");
let userAnswers = new Array(questions.length).fill(null);
let timerActive = false;
let timerInterval = null; // Declare the timer interval

// Generate quiz questions
questions.forEach((question, index) => {
    const questionDiv = document.createElement("div");
    questionDiv.classList.add("question");

    const questionText = document.createElement("p");
    questionText.innerText = `${index + 1}. ${question.text}`;
    questionDiv.appendChild(questionText);

    const optionsDiv = document.createElement("div");
    optionsDiv.classList.add("options");

    question.options.forEach((option, i) => {
        const optionButton = document.createElement("div");
        optionButton.classList.add("option");
        optionButton.addEventListener("click", () => selectAnswer(optionButton, index, i));

        const circle = document.createElement("div");
        circle.classList.add("circle");
        circle.innerText = ["ক", "খ", "গ", "ঘ"][i];

        const optionText = document.createElement("span");
        optionText.style.marginLeft = "40px";
        optionText.innerText = `${option}`;

        optionButton.appendChild(circle);
        optionButton.appendChild(optionText);
        optionsDiv.appendChild(optionButton);
    });

    questionDiv.appendChild(optionsDiv);
    quizContainer.appendChild(questionDiv);
});

// Answer selection function
const selectAnswer = (optionButton, questionIndex, selectedIndex) => {
    if (!timerActive) return;
    const options = optionButton.parentElement.children;
    for (let i = 0; i < options.length; i++) {
        options[i].classList.remove("selected");
    }
    optionButton.classList.add("selected");
    userAnswers[questionIndex] = selectedIndex;
};

// Start Timer Function
startButton.addEventListener("click", () => {
    if (timerActive) return;
    startTimer(30);
    timerActive = true;
    showResultButton.disabled = false;
    startButton.disabled = true;
});

// Timer Function
const startTimer = (minutes) => {
    let time = minutes * 60;
    timerInterval = setInterval(() => {
        const mins = Math.floor(time / 60);
        const secs = time % 60;
        timerElement.innerText = `${mins.toString().padStart(2, "0")}:${secs.toString().padStart(2, "0")}`;
        time--;

        if (time < 0) {
            clearInterval(timerInterval);
            timerElement.innerText = "Time Up !";
            calculateResult(); // Auto-submit on time out
        }
    }, 1000);
};

// Calculate Results
showResultButton.addEventListener("click", () => {
    clearInterval(timerInterval); // Stop the timer when result is shown
    timerElement.innerText = "Timer Stopped"; // Optional message
    calculateResult();
});

const calculateResult = () => {
    let score = 0;
    userAnswers.forEach((answer, index) => {
        if (answer === questions[index].correct) score++;
    });
    scoreContainer.innerText = `Your Score : ${score} / ${questions.length}`;
    resultContainer.style.display = "block";
    resultContainer.appendChild(scoreContainer);
    revealAnswers();
};

// Reveal Answers
const revealAnswers = () => {
    questions.forEach((question, index) => {
        const options = quizContainer.children[index].querySelectorAll(".option");
        options.forEach((option, i) => {
            option.classList.remove("selected", "correct", "wrong");
            const circle = option.querySelector(".circle");
            if (i === question.correct) {
                option.classList.add("correct");
                circle.classList.add("correct");
            } else if (i === userAnswers[index]) {
                option.classList.add("wrong");
                circle.classList.add("wrong");
            }
        });
    });
};

